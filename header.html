<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>dream - رأس الصفحة</title>
  <style>
    :root{
      --txt:#111; --muted:#666; --border:rgba(0,0,0,.12);
    }
    *{box-sizing:border-box}
    body{margin:0;background:transparent;color:var(--txt);font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Kufi Arabic",sans-serif}
    header{
      position:sticky; top:0; z-index:50; backdrop-filter: blur(8px);
      background:rgba(255,255,255,.8); border-bottom:1px solid var(--border);
    }
    .nav{max-width:1200px; margin:auto; padding:12px 20px; display:flex; align-items:center; gap:16px}
    .brand{font-weight:900; letter-spacing:.5px; font-size:20px; display:flex; align-items:center; gap:10px; color:#000}
    .brand .dot{width:10px;height:10px;border-radius:50%;background:#000; box-shadow:0 0 12px rgba(0,0,0,.35)}
    .links{margin-inline-start:auto; display:flex; gap:12px; align-items:center}
    .links a{
      color:#fff; text-decoration:none; font-weight:700; padding:8px 12px; border-radius:10px;
      background:#000; border:1px solid #000; transition:.2s
    }
    .links a:hover{background:#fff; color:#000}
    .search{
      position:relative; display:flex; align-items:center; gap:8px; background:#fff; border:1px solid var(--border);
      padding:8px 12px; border-radius:12px; margin-inline-start:12px
    }
    .search input{background:transparent; border:none; color:#111; outline:none; width:220px}
    .search button{background:#000; color:#fff; border:none; padding:6px 10px; border-radius:8px; font-weight:700; cursor:pointer}
    .menu-toggle{display:none}
    @media (max-width:880px){
      .search{display:none}
      .links{display:none}
      .menu-toggle{display:inline-flex; margin-inline-start:auto; border:1px solid var(--border); padding:8px 10px; border-radius:10px; cursor:pointer; background:#000; color:#fff}
      .drawer{display:none; position:fixed; inset:0 0 auto auto; width:80%; max-width:320px; height:100dvh; background:#fff; border-inline-start:1px solid var(--border); padding:18px}
      .drawer.open{display:block}
      .drawer a{display:block; color:#111; text-decoration:none; padding:12px 8px; border-radius:10px; border:1px solid var(--border); margin-bottom:8px}
      .drawer a:hover{background:#000; color:#fff}
    }
  </style>
</head>
<body>
<header>
  <nav class="nav" aria-label="التنقل الرئيسي">
    <div class="brand" aria-label="شعار الموقع">
      <span class="dot" aria-hidden="true"></span>
      <span>dream</span>
    </div>

    <form class="search" role="search" aria-label="بحث المنتجات" onsubmit="return false;">
      <input id="q" type="search" placeholder="ابحثي عن منتج..." inputmode="search" autocomplete="off" aria-label="ابحثي">
      <button id="searchBtn" type="button">بحث</button>
    </form>

    <div class="links" role="menubar">
      <a class="active" href="index.html" role="menuitem">الرئيسية</a>
      <a href="index.html#products" role="menuitem">المنتجات</a>
      <a href="contact.html" role="menuitem">تواصل</a>
      <a href="#" role="menuitem" id="openCart" aria-label="فتح السلة">🛒 السلة</a>
    </div>

    <button class="menu-toggle" id="menuToggle" aria-label="قائمة">القائمة</button>
  </nav>
  <aside class="drawer" id="drawer" aria-label="قائمة الجوال" aria-hidden="true">
    <a href="index.html">الرئيسية</a>
    <a href="index.html#products">المنتجات</a>
    <a href="contact.html">تواصل</a>
    <a href="#" id="openCartMobile">السلة</a>
  </aside>
</header>

<script>
  function sanitize(s){ return (s||"").toString().replace(/[<>"]/g,""); }

  document.getElementById('searchBtn')?.addEventListener('click', ()=>{
    const raw = document.getElementById('q').value || "";
    const value = sanitize(raw).trim();
    window.dispatchEvent(new CustomEvent('dream:search',{detail:{value}}));
  });

  const drawer = document.getElementById('drawer');
  const toggle = document.getElementById('menuToggle');
  toggle?.addEventListener('click', ()=>{
    const open = !drawer.classList.contains('open');
    drawer.classList.toggle('open', open);
    drawer.setAttribute('aria-hidden', String(!open));
  });

  const openCartBtns = [document.getElementById('openCart'), document.getElementById('openCartMobile')];
  openCartBtns.forEach(btn=>{
    btn?.addEventListener('click', (e)=>{ e.preventDefault(); window.dispatchEvent(new Event('dream:openCart')); });
  });
</script>
</body>
</html>
