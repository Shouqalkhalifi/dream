<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>dream - Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø©</title>
  <style>
    :root{
      --bg-0:#0f1115;       /* Ø®Ù„ÙÙŠØ© Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø¯Ø§ÙƒÙ†Ø© */
      --bg-1:#141820;       /* Ø·Ø¨Ù‚Ø© Ø£Ø¯ÙƒÙ† Ø®ÙÙŠÙØ© */
      --txt:#eef1f5;        /* Ù†Øµ ÙØ§ØªØ­ */
      --muted:#a6b0c0;
      --border:rgba(255,255,255,.08);
      --accent:#3ba9ff;     /* Ù„ÙˆÙ† ØªÙ…ÙŠÙŠØ² Ù…Ø±ÙŠØ­ */
      --badge:#222a36;
      --pill:#1b2230;
    }
    *{box-sizing:border-box}
    body{margin:0;background:transparent;color:var(--txt);font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Kufi Arabic",sans-serif}

    header{
      position:sticky; top:0; z-index:60;
      background:linear-gradient(0deg, var(--bg-1), var(--bg-0));
      border-bottom:1px solid var(--border);
      backdrop-filter:saturate(140%) blur(8px);
    }
    .nav{max-width:1200px;margin:auto;padding:12px 20px;display:flex;align-items:center;gap:14px}
    /* Ø´Ø¹Ø§Ø± Ø¯Ø§Ø¦Ø±ÙŠ */
    .brand{display:flex;align-items:center;gap:10px;color:var(--txt);text-decoration:none}
    .logo{
      width:36px;height:36px;border-radius:50%;
      background: radial-gradient(circle at 30% 30%, #8bd0ff, #3ba9ff 60%, #2563eb);
      border:1px solid rgba(255,255,255,.2);
      box-shadow:0 2px 14px rgba(59,169,255,.35) inset, 0 8px 24px rgba(0,0,0,.35);
      display:inline-block;
    }
    .brand b{letter-spacing:.4px}

    /* Ø±ÙˆØ§Ø¨Ø· Ø³Ø·Ø­ Ø§Ù„Ù…ÙƒØªØ¨ */
    .links{margin-inline-start:auto;display:flex;gap:8px;align-items:center}
    .links a{
      color:var(--txt);text-decoration:none;font-weight:700;
      padding:8px 12px;border-radius:12px;background:transparent;border:1px solid var(--border);
      transition:.18s;
    }
    .links a:hover{background:var(--pill);border-color:#2b3444}
    .links a.active{background:var(--badge);border-color:#374150}

    /* Ø§Ù„Ø¨Ø­Ø« */
    .search{
      position:relative;display:flex;align-items:center;gap:8px;background:var(--pill);
      border:1px solid var(--border);padding:8px 10px;border-radius:12px;margin-inline-start:12px
    }
    .search input{
      background:transparent;border:none;color:var(--txt);outline:none;width:220px;
    }
    .search button{
      background:var(--accent);color:#051018;border:none;padding:7px 10px;border-radius:8px;font-weight:800;cursor:pointer;
    }

    /* Ø²Ø± Ø§Ù„Ø³Ù„Ø© + Ø§Ù„Ø¨Ø§Ø¯Ø¬ */
    .cart-btn{position:relative}
    .cart-count{
      position:absolute;top:-6px;inset-inline-end:-6px;min-width:20px;height:20px;border-radius:999px;
      display:inline-flex;align-items:center;justify-content:center;
      font-size:12px;background:#22c55e;color:#051018;border:1px solid rgba(0,0,0,.3)
    }

    /* Ø§Ù„Ø¬ÙˆØ§Ù„ */
    .drawer{display:none}
    .menu-toggle{display:none}
    @media (max-width:880px){
      .search{display:none}
      .links{display:none}             /* Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙƒØ¨ÙŠØ±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© */
      .menu-toggle{
        display:inline-flex;margin-inline-start:auto;border:1px solid var(--border);
        padding:8px 10px;border-radius:10px;cursor:pointer;background:var(--pill);color:var(--txt);font-weight:700
      }
      .drawer{
        display:none; position:fixed; inset:0 0 auto auto; width:min(86vw,360px); height:100dvh;
        background:linear-gradient(0deg, var(--bg-1), var(--bg-0));
        border-inline-start:1px solid var(--border); padding:18px; z-index:70;
        box-shadow:-12px 0 40px rgba(0,0,0,.45);
      }
      .drawer.open{display:block}
      .drawer a{
        display:block;color:var(--txt);text-decoration:none;padding:12px 10px;border-radius:12px;
        border:1px solid var(--border);margin-bottom:10px;background:transparent
      }
      .drawer a:hover{background:var(--pill);border-color:#2b3444}
      .drawer .search-m{
        display:flex;gap:8px;background:var(--pill);border:1px solid var(--border);
        padding:8px 10px;border-radius:12px;margin:8px 0 14px
      }
      .drawer input{flex:1;background:transparent;border:none;color:var(--txt);outline:none}
      .drawer button{background:var(--accent);color:#051018;border:none;padding:8px 10px;border-radius:10px;font-weight:800}
    }
  </style>
</head>
<body>
<header>
  <nav class="nav" aria-label="Ø§Ù„ØªÙ†Ù‚Ù‘Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ">
    <a class="brand" href="index.html" aria-label="Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø¥Ù„Ù‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©">
      <span class="logo" aria-hidden="true"></span>
      <b>dream</b>
    </a>

    <!-- Ø¨Ø­Ø« Ø³Ø·Ø­ Ù…ÙƒØªØ¨ -->
    <form class="search" role="search" aria-label="Ø¨Ø­Ø« Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª" onsubmit="return false;">
      <input id="q" type="search" placeholder="Ø§Ø¨Ø­Ø«ÙŠ Ø¹Ù† Ù…Ù†ØªØ¬â€¦" inputmode="search" autocomplete="off" aria-label="Ø§Ø¨Ø­Ø«ÙŠ" />
      <button id="searchBtn" type="button">Ø¨Ø­Ø«</button>
    </form>

    <!-- Ø±ÙˆØ§Ø¨Ø· Ø³Ø·Ø­ Ù…ÙƒØªØ¨ (ØªØ¸Ù‡Ø± ÙÙ‚Ø· Ù„ØºÙŠØ± Ø§Ù„Ø¬ÙˆØ§Ù„) -->
    <div class="links" role="menubar">
      <a class="active" href="index.html" role="menuitem">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
      <a href="products.html" role="menuitem">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
      <a href="contact.html" role="menuitem">ØªÙˆØ§ØµÙ„</a>
      <a href="#" role="menuitem" id="openCart" class="cart-btn" aria-label="ÙØªØ­ Ø§Ù„Ø³Ù„Ø©">ğŸ›’
        <span id="cartCount" class="cart-count" hidden>0</span>
      </a>
    </div>

    <!-- Ø²Ø± Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬ÙˆØ§Ù„ -->
    <button class="menu-toggle" id="menuToggle" aria-label="ÙØªØ­ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©">Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</button>
  </nav>

  <!-- Ø¯Ø±Ø¬ Ø§Ù„Ø¬ÙˆØ§Ù„ ÙÙ‚Ø· -->
  <aside class="drawer" id="drawer" aria-label="Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬ÙˆØ§Ù„" aria-hidden="true">
    <div class="search-m" role="search" aria-label="Ø¨Ø­Ø« Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª">
      <input id="qm" type="search" placeholder="Ø§Ø¨Ø­Ø«ÙŠ Ø¹Ù† Ù…Ù†ØªØ¬â€¦" inputmode="search" autocomplete="off" />
      <button id="searchBtnM" type="button">Ø¨Ø­Ø«</button>
    </div>
    <a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
    <a href="products.html">Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
    <a href="contact.html">ØªÙˆØ§ØµÙ„</a>
    <a href="#" id="openCartMobile" class="cart-btn">Ø§Ù„Ø³Ù„Ø© <span id="cartCountM" class="cart-count" hidden>0</span></a>
  </aside>
</header>

<script>
  // Ø£Ù…Ù† Ø¥Ø¯Ø®Ø§Ù„ Ù†Øµ Ø§Ù„Ø¨Ø­Ø«
  function sanitize(s){ return (s||"").toString().replace(/[<>"']/g,""); }
  // Ø¨Ø«Ù‘ Ø­Ø¯Ø« Ø§Ù„Ø¨Ø­Ø« Ù„ÙŠØ³ØªÙ…Ø¹ Ù„Ù‡ index Ø£Ùˆ products
  function fireSearch(value){
    window.dispatchEvent(new CustomEvent('dream:search',{detail:{value}}));
  }
  document.getElementById('searchBtn')?.addEventListener('click', ()=>{
    const value = sanitize(document.getElementById('q').value).trim();
    fireSearch(value);
  });
  // Ø¨Ø­Ø« Ø§Ù„Ø¬ÙˆØ§Ù„
  document.getElementById('searchBtnM')?.addEventListener('click', ()=>{
    const value = sanitize(document.getElementById('qm').value).trim();
    fireSearch(value);
    drawer.classList.remove('open'); drawer.setAttribute('aria-hidden','true');
  });

  // Ø¯Ø±Ø¬ Ø§Ù„Ø¬ÙˆØ§Ù„
  const drawer = document.getElementById('drawer');
  const toggle = document.getElementById('menuToggle');
  toggle?.addEventListener('click', ()=>{
    const open = !drawer.classList.contains('open');
    drawer.classList.toggle('open', open);
    drawer.setAttribute('aria-hidden', String(!open));
  });

  // ÙØªØ­ Ø§Ù„Ø³Ù„Ø©
  const openCartBtns = [document.getElementById('openCart'), document.getElementById('openCartMobile')];
  openCartBtns.forEach(btn=>{
    btn?.addEventListener('click', (e)=>{ e.preventDefault(); window.dispatchEvent(new Event('dream:openCart')); });
  });

  // Ø´Ø§Ø±Ø© Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ù„Ø© (ØªÙ‚Ø±Ø£ Ù…Ù† localStorage ÙˆØªÙØ­Ø¯Ù‘Ø« Ø­ÙŠØ§Ù‹)
  const CART_KEY = 'dream.cart.v1';
  function cartCount(){
    try{
      const m = new Map(JSON.parse(localStorage.getItem(CART_KEY) || '[]'));
      let n=0; for(const [,qty] of m.entries()) n += Number(qty)||0;
      return n;
    }catch{ return 0; }
  }
  function renderCartBadge(){
    const n = cartCount();
    const c1 = document.getElementById('cartCount');
    const c2 = document.getElementById('cartCountM');
    [c1,c2].forEach(c=>{
      if(!c) return;
      if(n>0){ c.textContent = n; c.hidden = false; } else { c.hidden = true; }
    });
  }
  renderCartBadge();
  window.addEventListener('storage', e=>{ if(e.key===CART_KEY) renderCartBadge(); });
  window.addEventListener('dream:cartUpdated', renderCartBadge);
</script>
</body>
</html>
